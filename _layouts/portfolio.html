---
layout: default
---

<header>
  <div class="logo logo-closer-to-top-on-mobile">
    {% include logo.svg width=103 height=136 %}
    <div class="under under-large">
      <h1><em>Portfolio</em></h1>
    </div>
  </div>
</header>
<main class="portfolio-index">
  <ul class="shoot-list">
    {% assign shoots_sorted = site.shoots | sort: "name" | reverse %}
    {% for shoot in shoots_sorted %}
      <li class="shoot-item">
        <a class="shoot-block" href="{{ shoot.url | relative_url }}">
          <h2>{{ shoot.name | date: "%b %-d, %Y" }}</h2>
          <div class="thumbs">
            {% assign total = shoot.images | size %}
            
            {% for id in shoot.images limit:3 %}
              {% assign base = "https://imagedelivery.net/" | append: site.cf_images_account_hash | append: "/" | append: id | append: "/" %}
              <img
                class="thumb"
                src="{{ base }}{{ site.cf_images_variants.thumb }}"
                loading="lazy"
                alt="Preview image from {{ shoot.name }}"
              >
            {% endfor %}

            {% if total > 3 %}
              {% assign fourth_id = shoot.images[3] %}
              {% assign base2 = "https://imagedelivery.net/" | append: site.cf_images_account_hash | append: "/" | append: fourth_id | append: "/" %}
              
              <div class="thumb more-thumb">
                <img
                  src="{{ base2 }}{{ site.cf_images_variants.thumb }}"
                  alt=""
                  loading="lazy"
                >
                <div class="more-overlay">
                  +{{ total | minus: 3 }}
                </div>
              </div>
            {% endif %}
          </div>
        </a>
      </li>
    {% endfor %}
  </ul>
</main>

<style>
  .shoot-list {
    list-style: none;
    padding: 0;
    margin: 2rem 0;
  }

  .shoot-item {
    margin-bottom: 1.5rem;
  }

  /* Whole block clickable */
  .shoot-block {
    display: block;
    text-decoration: none;
    color: inherit;
    padding: 8px 0;
  }

  /* Shared size token for thumbs */
  :root {
    --thumb-h: 120px;
  }

  /* Row of thumbs */
  .thumbs {
    display: flex;
    gap: 6px;
    width: 100%;
    align-items: center;
  }

  /* First three thumbs: fixed height, natural width */
  .thumbs img.thumb {
    height: var(--thumb-h);
    width: auto;
    border-radius: 4px;
    background: #eee;
    flex: 0 0 auto;       /* don’t grow, don’t shrink */
  }

  /* 4th “+X” tile wrapper */
  .thumb.more-thumb {
    position: relative;
    overflow: hidden;
    border-radius: 4px;

    flex: 1 1 auto;       /* grows to fill remaining width on desktop */
    height: var(--thumb-h);
    min-width: var(--thumb-h);  /* don’t get narrower than a thumb is tall */
  }

  /* Image inside 4th tile: fills that box */
  .thumb.more-thumb img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    filter: blur(2px) brightness(0.5);
  }

  /* Centered “+X” label */
  .more-overlay {
    position: absolute;
    inset: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    font-weight: 600;
    font-size: 1rem;
    color: white;
  }

  /* MOBILE / TABLET: horizontal scroll instead of squish */
  @media (max-width: 700px) {
    .thumbs {
      margin: 0 -16px;
      padding: 0 16px;
      width: 100vw;

      overflow-x: auto;
      flex-wrap: nowrap;          /* keep them in a single row */
      -webkit-overflow-scrolling: touch;
    }

    /* (Optional) make them a bit bigger on mobile */
    :root {
      --thumb-h: 144px;
    }

    /* hide scrollbar if you want it cleaner */
    .thumbs::-webkit-scrollbar {
      display: none;
    }
  }
</style>

